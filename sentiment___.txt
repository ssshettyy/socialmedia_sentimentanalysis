# -*- coding: utf-8 -*-
"""Sentiment Analysis

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1oPzpvhw_EjbrnZhFCWnb0xu_zWWkPdZ8
"""

# Additional instances for X_train
X_train += [
    "An excellent movie with a compelling storyline.",
    "The acting was top-notch, a truly remarkable performance.",
    "Absolutely brilliant! Couldn't have asked for more.",
    "This movie blew me away, a true cinematic gem.",
    "Incredible direction and cinematography.",
    "The script was so well-written, kudos to the writers.",
    "A fantastic movie that left a lasting impression.",
    "Thoroughly enjoyed every minute of this film.",
    "A movie that stays with you long after it's over.",
    "Highly recommended! Can't wait to watch it again.",
    "The visuals were stunning, a feast for the eyes.",
    "An emotional rollercoaster that touched my heart.",
    "Outstanding direction and a powerful message.",
    "The soundtrack was phenomenal, added to the magic of the movie.",
    "A must-see for all movie enthusiasts.",
    "A true work of art! The attention to detail is remarkable.",
    "A movie that makes you think. Thought-provoking and insightful.",
    "The performances were exceptional, especially the lead actor.",
    "A genuine cinematic treasure, beautifully crafted.",
    "Brilliantly executed with an unexpected twist.",
    "A movie that leaves you speechless, in the best way.",
    "An impressive film that kept me guessing till the end.",
    "The chemistry between the characters was palpable.",
    "An inspiring story that leaves you motivated.",
    "Superbly crafted, a pure delight to watch.",
    "An absolute masterpiece! I'm still in awe.",
    "An emotional journey that tugs at your heartstrings.",
    "The casting was perfect, each actor played their role flawlessly.",
    "A well-paced movie with a perfect blend of drama and action.",
    "This movie deserves all the praise, a true winner.",
    "A film that stays in your thoughts long after you've seen it.",
    "A beautifully told story with a powerful and timely message.",
    "The dialogues were sharp and impactful.",
    "A movie that made me laugh, cry, and reflect on life.",
    "A thoughtfully made film that challenges societal norms.",
    "An intense and gripping plot that had me hooked.",
    "A memorable movie experience that I'll cherish.",
    "An excellent balance of entertainment and depth.",
    "A cinematic marvel! Truly a standout in every aspect.",
    "An extraordinary film that defies expectations.",
    "A movie that keeps you guessing till the very end.",
    "The narrative was compelling and thoughtfully constructed.",
    "A beautiful representation of the human experience.",
    "A cinematic gem that deserves all the accolades.",
    "A movie that hits all the right notes, and then some.",
    "A movie that left me in awe of its brilliance.",
    "A powerful film that raises important social issues.",
    "An absorbing storyline that holds your attention throughout.",
    "An exceptional film that brings out a range of emotions.",
    "An engaging and thought-provoking narrative.",
    "A film that challenges conventional norms and beliefs.",
    "A movie that takes you on a journey of self-discovery.",
    "A movie that strikes the perfect balance between heartwarming and heart-wrenching.",
    "An inspirational tale that leaves a lasting impact.",
    "A brilliantly executed film that resonates with the audience.",
    "A heartwarming movie that leaves you with a smile.",
    "An emotionally charged movie that will leave you in tears.",
    "A cinematic experience that transports you to another world.",
    "An exceptional movie that showcases the power of resilience.",
    "A movie that shines a light on the human spirit and triumph.",
    "A gripping plot that keeps you on the edge of your seat.",
    "A movie that makes you reflect on the complexities of life.",
    "A beautifully shot film with stunning visuals.",
    "A movie that delves deep into the intricacies of human relationships.",
    "A film that will leave you questioning and contemplating.",
    "A remarkable performance by the lead actor, truly commendable.",
    "A movie that leaves you pondering long after it's over.",
    "A movie that stays with you and lingers in your thoughts.",
    "An exceptional portrayal of real-life struggles and triumphs.",
    "A beautifully crafted film that captures the essence of the human condition.",
    "A movie that will evoke a range of emotions in the viewer.",
    "A cinematic triumph that deserves all the praise.",
    "A movie that speaks to the heart and soul of the audience.",
    "A gripping storyline that keeps you engaged from start to finish.",
    "A beautifully nuanced film that showcases the depth of human emotions.",
    "A movie that captures the nuances of love and loss.",
    "An impeccably directed film that tugs at your heartstrings.",
    "A movie that explores the complexities of the human psyche.",
    "A captivating film that leaves a lasting impression on the viewer.",
    "A movie that transports you to a different world and time.",
    "A powerful film that sheds light on important societal issues.",
    "An emotional rollercoaster that will leave you breathless.",
    "A beautifully orchestrated movie that will tug at your heart.",
    "A movie that leaves you with a sense of hope and inspiration.",
    "An unforgettable movie experience that will stay with you.",
    "A movie that strikes a chord with its authenticity and relatability.",
    "A thought-provoking film that challenges your perspective.",
    "A movie that explores the human experience in a raw and authentic manner.",
    "A brilliantly told story that captivates and enthralls.",
    "A movie that leaves you contemplating the mysteries of life.",
    "An exceptional film that will resonate with audiences of all ages.",
    "A film that beautifully captures the essence of love and friendship.",
    "A movie that offers a fresh perspective on a familiar theme.",
    "An engrossing plot that will keep you guessing till the end.",
    "A movie that beautifully portrays the complexities of the human heart.",
    "A movie that will have you at the edge of your seat, wondering what happens next.",
    "A thought-provoking movie that challenges societal norms and beliefs.",
    "A heartwarming tale that will leave you smiling long after it's over.",
    "An emotionally charged film that will move you to tears.",
    "A movie that takes you on a rollercoaster of emotions.",
    "A film that leaves you in awe of its brilliance and creativity.",
    "A movie that will leave you with a newfound appreciation for life.",
    "An emotionally resonant film that strikes a chord with the audience.",
    "A movie that offers a powerful and timely message.",
    "A beautifully shot film that immerses you in its world.",
    "A film that delves deep into the human psyche and emotions.",
    "A movie that explores the depths of human relationships and connections.",
    "An emotionally compelling film that will tug at your heartstrings.",
    "A cinematic masterpiece that will leave you speechless.",
    "A movie that captures the essence of the human spirit and resilience.",
    "A film that beautifully captures the complexities of love and longing.",
    "A movie that will make you laugh, cry, and reflect on life."]

# X_test = "it was really awesome and really disspntd"

# Corresponding modifications to y_train
y_train += [
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
    "positive", "positive", "positive", "positive", "positive", "positive", "positive", "positive",
]
 # 1- Positive class, 0- negative class

# X_train # Reviews

"""# Cleaning of the data"""

# Tokenize
# "I am a python dev" -> ["I", "am", "a", "python", "dev"]

from nltk.tokenize import RegexpTokenizer
# NLTK -> Tokenize -> RegexpTokenizer

# Stemming
# "Playing" -> "Play"
# "Working" -> "Work"

from nltk.stem.porter import PorterStemmer
# NLTK -> Stem -> Porter -> PorterStemmer

from nltk.corpus import stopwords
# NLTK -> Corpus -> stopwords

# Downloading the stopwords
import nltk
nltk.download('stopwords')

tokenizer = RegexpTokenizer(r"\w+")
en_stopwords = set(stopwords.words('english'))
ps = PorterStemmer()

def getCleanedText(text):
  text = text.lower()

  # tokenizing
  tokens = tokenizer.tokenize(text)
  new_tokens = [token for token in tokens if token not in en_stopwords]
  stemmed_tokens = [ps.stem(tokens) for tokens in new_tokens]
  clean_text = " ".join(stemmed_tokens)
  return clean_text

"""# Input from the user"""

X_test = ["it was bad"]

X_clean = [getCleanedText(i) for i in X_train]
xt_clean = [getCleanedText(i) for i in X_test]

print(X_clean)

# Data before cleaning
'''
X_train = ["This was awesome an awesome movie",
           "Great movie! Ilikes it a lot",
           "Happy Ending! Awesome Acting by hero",
           "loved it!",
           "Bad not upto the mark",
           "Could have been better",
           "Dissapointed by the movie"]
'''

"""# Vectorize"""

from sklearn.feature_extraction.text import CountVectorizer

cv = CountVectorizer(ngram_range = (1,2))
# "I am PyDev" -> "i am", "am Pydev"

X_vec = cv.fit_transform(X_clean).toarray()

print(X_vec)

# print(cv.get_feature_names())

Xt_vect = cv.transform(xt_clean).toarray()

print(Xt_vect)

"""# Multinomial Naive Bayes"""

from sklearn.naive_bayes import MultinomialNB

mn = MultinomialNB()

mn.fit(X_vec, y_train)

y_pred = mn.predict(Xt_vect)

print(y_pred)


import joblib
joblib.dump(cv, 'count_vectorizer.pkl')
joblib.dump(mn, 'multinomial_nb.pkl')